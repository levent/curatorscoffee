/* ----------------------------------------------------------------------------------------
 
   BOXES

*/

.box {
  /* ----------------------------------------
     GLOBAL
  */
  
  position: relative;
  background-color: white;
  @include rem('margin-bottom',18);
  z-index: 3;
  @include border-radius (10px);
  -moz-background-clip: padding; -webkit-background-clip: padding-box; background-clip: padding-box;
  @include box-shadow ('0 1px 5px rgba(0, 0, 0, 0.1)');
  
  &:before { // just used for the shadow effect
    content: " ";
    position: absolute;
    bottom: 0;
    left: 5%;
    width: 90%;
    height: 10px;
    background: white;
    @include border-radius (50%);
    @include box-shadow ('0 3px 5px rgba(0, 0, 0, 0.1)');
    z-index: -1;
  }
  
  /* ----------------------------------------
     MODIFIERS
  */
  
  &.box-inset {
    background-color: lighten($grayLighter,5);
    border-bottom: 1px solid white;
    @include box-shadow ('inset 0 2px 2px rgba(0, 0, 0, 0.1)');
    
    .box-header, .box-content { background-color: transparent; }
    .box-header.bordered { border-bottom-color: $grayLighter; }
    &:before { display: none; }
  }
  
  &.transparent {
    @include rem('margin-bottom',0);
    background-color: transparent;
    border: none;
    
    @include box-shadow ('0 0 0 rgba(0, 0, 0, 0)');
    .content, header, .header { background-color: transparent; }
    &:before { display: none; }
    header.bordered, .header.bordered { border-bottom-color: $grayLighter; }
  }

  /* ----------------------------------------
     IE ADJUSTMENTS
  */
  
  .oldie & {
    border: 1px solid $borderGray;
    border-bottom: 3px solid $borderGray;
  }
  
  .ie7 & {
    width: 100%;
  }
}
  
/* ----------------------------------------
   BOX HEADER
*/
          
.box-header {
  position: relative;
  @include rem ('font-size', 18);
  line-height: 1em;
  @include border-radius (10px 10px 0 0);
  border-color: $background;
  
  &:last-child {
    @include border-radius (10px);
  }
}
  
.box-header,
.box-content {
  background: white;
  @include rem('padding',18);
  z-index: 3;
}

.box-header + .box-content { 
  padding-top: 0; 
}

/* ----------------------------------------
   BOX HEADER TITLE
*/

.box-header-title {
  display: inline-block;
  padding-top: 0;
  padding-bottom: 0;
  @include rem ('font-size', 18);
  line-height: em(20,18);
  font-weight: normal;
}

.box-header-title-breadcrumbed {
  .divider {
    color: $grayLight;
    font-weight: bold;
  }
}
  
/* ----------------------------------------
   BOX CONTENT
*/

.box-content {
  @include rem ('font-size', 13);
  @include border-radius (0 0 10px 10px);
  margin: 0;
  
  &:first-child {
    @include border-radius (10px);
  }
}

.box-navigation + .box-content {
  @include border-radius (10px);
}
  
/* ----------------------------------------
   DRAWER      
*/

.drawer {
  position: relative;
  top: em(18);
  padding: em(18);
  margin-top: 0;
  margin-bottom: em(18);
  margin-left: - em(18);
  margin-right: - em(18);
  overflow: hidden;
  background: $drawerBackground;
  text-shadow: 0 1px 0 white;  
  border-top: 1px solid $borderGray;
  border-bottom: 1px solid $borderGray;
  
  //@include vertical-gradient ($drawerBackground,darken($drawerBackground,2));
  
  &:before { // just used for the shadow effect
    content: " ";
    position: absolute;
    top: -10px;
    left: 2.5%;
    width: 95%;
    height: 10px;
    @include border-radius (50%);
    @include box-shadow ('0 3px 5px rgba(0, 0, 0, 0.1)');
    z-index: 1;
  } 
  
  &:after { // just used for the shadow effect
    content: " ";
    position: absolute;
    bottom: -10px;
    left: 2.5%;
    width: 95%;
    height: 10px;
    @include border-radius (50%);
    @include box-shadow ('0 -3px 5px rgba(0, 0, 0, 0.1)');
    z-index: 1;
  }
  
  mark {
    background: none;
    color: $gray;      
  }
  
  .oldie & {
    border: 1px solid lighten($borderGray,3);
    border-top-width: 3px;
    border-bottom-width: 3px;
  }
}
