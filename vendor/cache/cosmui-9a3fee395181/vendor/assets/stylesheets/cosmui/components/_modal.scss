/* ----------------------------------------------------------------------------------------
 
   MODAL
 
*/

.modal-backdrop {
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: $zindexModalBackdrop;
  background-color: black;
  @include opacity(0);
  $transition: opacity .2s ease-out;
  @include transition($transition);
  
  &.open {
    @include opacity(20);
  }

  /* ----------------------------------------
     IE ADJUSTMENTS
  */

  .oldie & {
    zoom: 1;
  }
}

.modal {
  position: fixed;
  top: -32%;
  left: 50%;
  z-index: $zindexModal;
  max-height: em(500);
  overflow: auto;
  width: em(700);
  margin: 0;
  margin-top: - em(250);
  margin-left: - em(350);
  background-color: white;
  @include box-shadow(0 0 em(100) rgba(0,0,0,0.5));
  -moz-background-clip: padding; -webkit-background-clip: padding-box; background-clip: padding-box;
  $transition: opacity .2s ease-out, top .2s ease-out;
  @include transition($transition);
  @include opacity(0);

  &.open {
    top: 50%;
    @include opacity(100);
    .dropdown-menu {  z-index: $zindexDropdown + $zindexModal; }
    .dropdown.open { *z-index: $zindexDropdown + $zindexModal; }
    .popover       {  z-index: $zindexPopover  + $zindexModal; }
    .tooltip       {  z-index: $zindexTooltip  + $zindexModal; }
  }

  .box-header {
    padding: em(25,18) em(30,18);
    
    h3, h4 {
      @include rem ('font-size',26);
    }
    
    & + .box-content { padding-top: 0; }
    
    .close { 
      margin: 0;
      margin-top: - em(10,30); 
      margin-right: - em(10,30);
      @include rem ('font-size',30);
      opacity: .5;
      
      &:hover {
        opacity: 1;
      }
    }
  }
  
  .box-content {
    padding: em(30);
    @include clearfix();
  }
  
  footer {
    padding-top: em(18);
  
    @include clearfix();
    .button {
      float: right;
      margin-left: 5px;
      margin-bottom: 0; // account for input[type="submit"] which gets the bottom margin like all other inputs
    }
  }
  
  /* ----------------------------------------
     IE ADJUSTMENTS
  */
  
  .oldie & {
    border: 1px solid $gray;
    border-bottom-width: 3px;
    zoom: 1;
    width: em(700);
  }
  
  .ie7 & {
    margin-top: - em(200);
    margin-left: - em(300);    
  }
}

